<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel='import' href='../flot-chart-stacking/flot-chart-stacking.html'>

<dom-module id="flot-charts">
  <style>
    :host {
      display: block;
    }

    .flotChart{
      height: 300px;
      width: 100%;
    }
  </style>
  <template>
    <div>Flot</div>
    <flot-chart-stacking id="flotChartStacking1" class="flotChart" data=[[data]] lines></flot-chart-stacking>
    <flot-chart-stacking id="flotChartStacking2" class="flotChart" data=[[data]] bars></flot-chart-stacking>
    <flot-chart-stacking id="flotChartStacking3" class="flotChart" data=[[data]] steps></flot-chart-stacking>
    <flot-chart-stacking id="flotChartStacking4" class="flotChart" data=[[data]] lines stack></flot-chart-stacking>
  </template>
</dom-module>
<script>
(function() {
  Polymer({
    is: 'flot-charts',

    ready:function(){

      var d1 = [];
      for (var i = 0; i <= 10; i += 1) {
        d1.push([i, parseInt(Math.random() * 30)]);
      }
      var d2 = [];
      for (var i = 0; i <= 10; i += 1) {
        d2.push([i, parseInt(Math.random() * 30)]);
      }
      var d3 = [];
      for (var i = 0; i <= 10; i += 1) {
        d3.push([i, parseInt(Math.random() * 30)]);
      }

      this.data = [d1,d2,d3];

      this.async(this.plot, 1000);
    },

    plot:function(){
      var charts = document.getElementsByClassName("flotChart");
      for (var i = charts.length - 1; i >= 0; i--) {
        charts[i].plot();
      };
    }


  });
})();

// window.onresize = function(event) {
//   // make charts responsive
//   // var charts = document.getElementsByClassName("flotChart");
//   // for (var i = charts.length - 1; i >= 0; i--) {
//   //   charts[i].plot();
//   // };
      
// }

</script>
